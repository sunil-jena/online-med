@import "tailwindcss";

/* ------------------------------------------------------------------
   THEME TOKENS (Tailwind v4 @theme)
------------------------------------------------------------------ */
@theme {
  --radius: 0.75rem;

  /* Base & UI tokens */
  --color-background: #F3F5FA;
  --color-foreground: #111827;

  --color-card: #FFFFFF;
  --color-card-foreground: #111827;

  --color-popover: #FFFFFF;
  --color-popover-foreground: #111827;

  --color-primary: #2463EB;
  --color-primary-foreground: #FFFFFF;

  --color-secondary: #F3F3F4;
  --color-secondary-foreground: #111827;

  --color-muted: #F3F3F4;
  --color-muted-foreground: #888B93;

  --color-accent: #F3F5FA;
  --color-accent-foreground: #111827;

  --color-destructive: #F97316;
  --color-destructive-foreground: #FFFFFF;

  --color-border: #E7E8E9;
  --color-input: #E7E8E9;
  --color-ring: #2463EB;

  /* Sidebar */
  --color-sidebar: #FFFFFF;
  --color-sidebar-foreground: #111827;
  --color-sidebar-primary: #2463EB;
  --color-sidebar-primary-foreground: #FFFFFF;
  --color-sidebar-accent: #F3F5FA;
  --color-sidebar-accent-foreground: #111827;
  --color-sidebar-border: #E7E8E9;
  --color-sidebar-ring: #2463EB;

  /* Brand helpers */
  --color-brand: #2463EB;
  --color-brand-hover: #3D6FF0;
  --color-brand-soft: #86A8F5;
  --color-brand-tint: color-mix(in oklab, var(--color-brand) 14%, white);

  /* Status helpers */
  --color-status-green: #00B774;
  --color-status-orange: #F97316;

  /* Neutral system */
  --color-ink: #111827;
  --color-ink-75: #4D525D;
  --color-ink-50: #888B93;
  --color-ink-25: #C3C5C9;
  --color-ink-10: #E7E8E9;
  --color-ink-5: #F3F3F4;
  --color-ink-muted: #888B93;

  --color-rail: #E5EDFA;
  --color-line: #E7E8E9;
  --color-ring-alt: #2463EB;
  --color-btn-disabled: #9EA7B5;

  --shadow-card: 0 10px 24px rgba(17, 24, 39, .06);

  --ease-smooth: cubic-bezier(.22, 1, .36, 1);
}

/* ------------------------------------------------------------------
   DARK THEME OVERRIDES
------------------------------------------------------------------ */
.dark {
  --color-background: #111827;
  --color-foreground: #F3F5FA;

  --color-card: #1B2332;
  --color-card-foreground: #F3F5FA;

  --color-popover: #1B2332;
  --color-popover-foreground: #F3F5FA;

  --color-primary: #2463EB;
  --color-primary-foreground: #FFFFFF;

  --color-secondary: #4D525D;
  --color-secondary-foreground: #F3F5FA;

  --color-muted: #4D525D;
  --color-muted-foreground: #C3C5C9;

  --color-accent: #2A3142;
  --color-accent-foreground: #F3F5FA;

  --color-destructive: #F97316;
  --color-destructive-foreground: #111827;

  --color-border: #4D525D;
  --color-input: #4D525D;
  --color-ring: #2463EB;

  --color-sidebar: #1B2332;
  --color-sidebar-foreground: #F3F5FA;
  --color-sidebar-primary: #2463EB;
  --color-sidebar-primary-foreground: #FFFFFF;
  --color-sidebar-accent: #2A3142;
  --color-sidebar-accent-foreground: #F3F5FA;
  --color-sidebar-border: #4D525D;
  --color-sidebar-ring: #2463EB;

  --color-ink: #F3F5FA;
  --color-ink-50: #C3C5C9;
}

/* ------------------------------------------------------------------
   BASE RESET
------------------------------------------------------------------ */
@layer base {
  * {
    @apply border-border;
  }

  html,
  body,
  #__next {
    height: 100%;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }
}

/* ------------------------------------------------------------------
   UTILITIES & EFFECTS
------------------------------------------------------------------ */
@layer utilities {

  /* Inputs */
  .input {
    height: 3rem;
    width: 100%;
    border-radius: .75rem;
    border: 1px solid var(--color-line);
    background: #fff;
    padding: 0 1rem;
    transition: box-shadow .2s, border-color .2s;
  }

  .input:focus {
    box-shadow: 0 0 0 4px color-mix(in oklab, var(--color-ring) 18%, transparent);
    border-color: var(--color-ring);
    outline: none;
  }

  .input-error {
    border-color: #EF4444;
  }

  .input.placeholder-brand::placeholder {
    color: var(--color-brand-soft);
  }

  .label {
    font-size: .875rem;
    color: #888B93;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 3rem;
    padding: 0 1.25rem;
    border-radius: .75rem;
    font-weight: 600;
    color: #fff;
    background: var(--color-brand);
    transition: transform .08s, background .15s;
  }

  .btn:hover {
    background: var(--color-brand-hover);
  }

  .btn:disabled {
    background: var(--color-btn-disabled);
    opacity: .8;
  }

  .link {
    color: var(--color-brand);
  }

  .link:hover {
    color: var(--color-brand-hover);
    text-decoration: underline;
  }

  .dotted-link {
    color: var(--color-ink);
    text-decoration-line: underline;
    text-decoration-style: dotted;
    text-underline-offset: 0.25em;
    text-decoration-thickness: 1.5px;
  }

  .dotted-link:hover {
    color: var(--color-brand);
    text-decoration-style: solid;
  }

  .actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 1.5rem;
  }

  .input-halo {
    position: absolute;
    inset: -6px -8px;
    border-radius: .85rem;
    background: radial-gradient(120px 120px at 90% 50%, color-mix(in oklab, var(--color-ring) 60%, transparent), transparent 65%);
    filter: blur(6px);
    opacity: 0;
    pointer-events: none;
  }

  /* Animation utilities */
  .animate-slide-up-visible {
    animation: slideUpVisibleSmooth 680ms var(--ease-smooth) both;
  }

  .animate-slide-down {
    animation: slideDownSmooth 520ms var(--ease-smooth) both;
  }

  .animate-fade-in {
    animation: fadeInUpSmooth 320ms ease-out both;
  }

  .animate-shake {
    animation: shakeTight 360ms ease-in-out 1;
  }

  .animation-delay-150 {
    animation-delay: 150ms;
  }

  .animation-delay-500 {
    animation-delay: 500ms;
  }

  .animation-fill-mode-both {
    animation-fill-mode: both;
  }

  /* Smooth compositor hint */
  .motion-smooth {
    backface-visibility: hidden;
    transform: translateZ(0);
    will-change: transform, opacity;
    contain: layout paint style;
    isolation: isolate;
  }
}

/* ------------------------------------------------------------------
   KEYFRAMES (smooth, no micro-pause)
------------------------------------------------------------------ */
@keyframes slideUpVisibleSmooth {
  0% {
    opacity: 0;
    transform: translate3d(0, 56px, 0) scale(1);
  }

  60% {
    opacity: 1;
    transform: translate3d(0, 6px, 0) scale(.995);
  }

  100% {
    opacity: 1;
    transform: translate3d(0, -10px, 0) scale(.995);
  }
}

@keyframes slideDownSmooth {
  0% {
    opacity: 0;
    transform: translate3d(0, -12px, 0) scale(.985);
  }

  60% {
    opacity: 1;
    transform: translate3d(0, -2px, 0) scale(1);
  }

  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes fadeInUpSmooth {
  0% {
    opacity: 0;
    transform: translate3d(0, 12px, 0);
  }

  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes fadeOutUpSoft {
  0% {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  100% {
    opacity: 0;
    transform: translate3d(0, -8px, 0);
  }
}

@keyframes shakeTight {

  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }

  15% {
    transform: translate3d(-4px, 0, 0);
  }

  45% {
    transform: translate3d(4px, 0, 0);
  }

  70% {
    transform: translate3d(-3px, 0, 0);
  }

  85% {
    transform: translate3d(2px, 0, 0);
  }
}

@keyframes pulseGlowSoft {

  0%,
  100% {
    box-shadow: 0 0 0 0 hsl(from var(--color-ring) h s l /.36);
  }

  50% {
    box-shadow: 0 0 0 10px hsl(from var(--color-ring) h s l /0);
  }
}

/* ------------------------------------------------------------------
   NProgress (page loading bar)
------------------------------------------------------------------ */
#nprogress .bar {
  background: var(--color-primary);
  position: fixed;
  z-index: 1031;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
}

#nprogress .peg {
  display: none;
}

#nprogress .spinner {
  display: none;
}

#nprogress {
  pointer-events: none;
}